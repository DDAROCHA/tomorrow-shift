{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{DndContext,KeyboardSensor,PointerSensor,useSensor,useSensors,closestCorners,DragOverlay}from\"@dnd-kit/core\";import{SortableContext,verticalListSortingStrategy}from\"@dnd-kit/sortable\";import{sortableKeyboardCoordinates}from\"@dnd-kit/sortable\";import{Input}from\"../Components/Input/Input\";import{Spinner}from\"../Components/Spinner/Spinner\";import{Timeline}from\"../Components/Timeline/Timeline\";import{SortableItem}from\"../Components/SortableItem/SortableItem\";import{getTasks,saveTask,deleteTask}from\"../services/backend\";import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Home(){var _tasks$find,_tasks$find2;// ---------------------------\n// Local state\n// ---------------------------\nconst[tasks,setTasks]=useState([]);// List of employees (tasks)\nconst[loading,setLoading]=useState(true);// Loading flag\nconst[error,setError]=useState(null);// Error message\nconst[activeId,setActiveId]=useState(null);// Active item during drag\nconst baseHeight=35;// Height equivalent to 1 hour in the timeline\n// ---------------------------\n// Load data from Backendless\n// ---------------------------\nuseEffect(()=>{getTasks().then(results=>{const formatted=results.sort((a,b)=>a.Orden-b.Orden).map(item=>({id:item.objectId,title:item.Item||\"Untitled\",valor:item.Valor!=null?Number(item.Valor):1}));setTasks(formatted);setLoading(false);}).catch(err=>{console.error(\"Error fetching data:\",err.message);setError(\"Error fetching data: \"+err.message);setLoading(false);});},[]);// ---------------------------\n// Add new employee (task)\n// ---------------------------\nconst addTask=async title=>{try{const newItem={Item:title,Valor:1,Orden:tasks.length};const saved=await saveTask(newItem);setTasks(tasks=>[...tasks,{id:saved.objectId,title:saved.Item,valor:1}]);}catch(err){console.error(\"Error saving item:\",err.message);alert(\"Could not save the new employee.\");}};// ---------------------------\n// Delete employee (task)\n// ---------------------------\nconst deleteTaskById=async id=>{try{await deleteTask(id);setTasks(tasks=>tasks.filter(task=>task.id!==id));}catch(err){console.error(\"Error deleting item:\",err.message);alert(\"Could not delete the employee.\");}};// ---------------------------\n// Update working hours (valor)\n// ---------------------------\nconst updateValor=async(id,newValor)=>{// Update state immediately\nsetTasks(tasks=>tasks.map(task=>task.id===id?{...task,valor:newValor}:task));// Save to backend\ntry{await saveTask({objectId:id,Valor:newValor});}catch(err){console.error(\"Error updating value:\",err.message);}};// Increase working hours (max 8)\nconst incrementValor=id=>{const task=tasks.find(t=>t.id===id);if(!task)return;const newValor=Math.min(task.valor+1,8);updateValor(id,newValor);};// Decrease working hours (min 1)\nconst decrementValor=id=>{const task=tasks.find(t=>t.id===id);if(!task)return;const newValor=Math.max(task.valor-1,1);updateValor(id,newValor);};// ---------------------------\n// Drag & Drop configuration\n// ---------------------------\nconst sensors=useSensors(useSensor(PointerSensor),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}));const getTaskPos=id=>tasks.findIndex(task=>task.id===id);const handleDragStart=event=>{setActiveId(event.active.id);};const handleDragEnd=async event=>{setActiveId(null);const{active,over}=event;if(!over||active.id===over.id)return;// Reorder tasks in state\nconst originalPos=getTaskPos(active.id);const newPos=getTaskPos(over.id);const reorderedTasks=[...tasks];const[moved]=reorderedTasks.splice(originalPos,1);reorderedTasks.splice(newPos,0,moved);setTasks(reorderedTasks);// Save new order to backend\ntry{await Promise.all(reorderedTasks.map((task,index)=>saveTask({objectId:task.id,Orden:index})));}catch(err){console.error(\"Error updating order:\",err.message);alert(\"There was a problem saving the new order.\");}};// ---------------------------\n// Render component\n// ---------------------------\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Assign Employees for Tomorrow\\u2019s Shift\"}),loading&&/*#__PURE__*/_jsx(Spinner,{text:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"15px\"},children:/*#__PURE__*/_jsx(Input,{onSubmit:addTask,buttonLabel:\"Add Employee\"// Configurable button text\n})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"0px\"},children:[/*#__PURE__*/_jsx(Timeline,{baseHeight:baseHeight}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(DndContext,{sensors:sensors,collisionDetection:closestCorners,onDragStart:handleDragStart,onDragEnd:handleDragEnd,children:[/*#__PURE__*/_jsx(SortableContext,{items:tasks.map(t=>t.id),strategy:verticalListSortingStrategy,children:tasks.map(task=>/*#__PURE__*/_jsx(SortableItem,{id:task.id,title:task.title,valor:task.valor,onDelete:deleteTaskById,incrementValor:incrementValor,decrementValor:decrementValor,baseHeight:baseHeight},task.id))}),/*#__PURE__*/_jsx(DragOverlay,{children:activeId?/*#__PURE__*/_jsx(SortableItem,{id:activeId,title:(_tasks$find=tasks.find(t=>t.id===activeId))===null||_tasks$find===void 0?void 0:_tasks$find.title,valor:(_tasks$find2=tasks.find(t=>t.id===activeId))===null||_tasks$find2===void 0?void 0:_tasks$find2.valor,incrementValor:incrementValor,decrementValor:decrementValor,baseHeight:baseHeight,overlay:true}):null})]})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","DndContext","KeyboardSensor","PointerSensor","useSensor","useSensors","closestCorners","DragOverlay","SortableContext","verticalListSortingStrategy","sortableKeyboardCoordinates","Input","Spinner","Timeline","SortableItem","getTasks","saveTask","deleteTask","jsx","_jsx","jsxs","_jsxs","Home","_tasks$find","_tasks$find2","tasks","setTasks","loading","setLoading","error","setError","activeId","setActiveId","baseHeight","then","results","formatted","sort","a","b","Orden","map","item","id","objectId","title","Item","valor","Valor","Number","catch","err","console","message","addTask","newItem","length","saved","alert","deleteTaskById","filter","task","updateValor","newValor","incrementValor","find","t","Math","min","decrementValor","max","sensors","coordinateGetter","getTaskPos","findIndex","handleDragStart","event","active","handleDragEnd","over","originalPos","newPos","reorderedTasks","moved","splice","Promise","all","index","children","text","style","color","marginBottom","onSubmit","buttonLabel","display","gap","flex","collisionDetection","onDragStart","onDragEnd","items","strategy","onDelete","overlay"],"sources":["D:/00-DESARROLLO/REACT/Training/PORTFOLIO/TOMORROW-SHIFT/src/Pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  DndContext,\r\n  KeyboardSensor,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  closestCorners,\r\n  DragOverlay,\r\n} from \"@dnd-kit/core\";\r\nimport {\r\n  SortableContext,\r\n  verticalListSortingStrategy,\r\n} from \"@dnd-kit/sortable\";\r\nimport { sortableKeyboardCoordinates } from \"@dnd-kit/sortable\";\r\n\r\nimport { Input } from \"../Components/Input/Input\";\r\nimport { Spinner } from \"../Components/Spinner/Spinner\";\r\nimport { Timeline } from \"../Components/Timeline/Timeline\";\r\nimport { SortableItem } from \"../Components/SortableItem/SortableItem\";\r\n\r\nimport { getTasks, saveTask, deleteTask } from \"../services/backend\";\r\n\r\nimport './Home.css';\r\n\r\nexport function Home() {\r\n  // ---------------------------\r\n  // Local state\r\n  // ---------------------------\r\n  const [tasks, setTasks] = useState([]);       // List of employees (tasks)\r\n  const [loading, setLoading] = useState(true); // Loading flag\r\n  const [error, setError] = useState(null);     // Error message\r\n  const [activeId, setActiveId] = useState(null); // Active item during drag\r\n\r\n  const baseHeight = 35; // Height equivalent to 1 hour in the timeline\r\n\r\n  // ---------------------------\r\n  // Load data from Backendless\r\n  // ---------------------------\r\n  useEffect(() => {\r\n    getTasks()\r\n      .then((results) => {\r\n        const formatted = results\r\n          .sort((a, b) => a.Orden - b.Orden)\r\n          .map((item) => ({\r\n            id: item.objectId,\r\n            title: item.Item || \"Untitled\",\r\n            valor: item.Valor != null ? Number(item.Valor) : 1,\r\n          }));\r\n        setTasks(formatted);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error fetching data:\", err.message);\r\n        setError(\"Error fetching data: \" + err.message);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // ---------------------------\r\n  // Add new employee (task)\r\n  // ---------------------------\r\n  const addTask = async (title) => {\r\n    try {\r\n      const newItem = { Item: title, Valor: 1, Orden: tasks.length };\r\n      const saved = await saveTask(newItem);\r\n      setTasks((tasks) => [\r\n        ...tasks,\r\n        { id: saved.objectId, title: saved.Item, valor: 1 },\r\n      ]);\r\n    } catch (err) {\r\n      console.error(\"Error saving item:\", err.message);\r\n      alert(\"Could not save the new employee.\");\r\n    }\r\n  };\r\n\r\n  // ---------------------------\r\n  // Delete employee (task)\r\n  // ---------------------------\r\n  const deleteTaskById = async (id) => {\r\n    try {\r\n      await deleteTask(id);\r\n      setTasks((tasks) => tasks.filter((task) => task.id !== id));\r\n    } catch (err) {\r\n      console.error(\"Error deleting item:\", err.message);\r\n      alert(\"Could not delete the employee.\");\r\n    }\r\n  };\r\n\r\n  // ---------------------------\r\n  // Update working hours (valor)\r\n  // ---------------------------\r\n  const updateValor = async (id, newValor) => {\r\n    // Update state immediately\r\n    setTasks((tasks) =>\r\n      tasks.map((task) => (task.id === id ? { ...task, valor: newValor } : task))\r\n    );\r\n    // Save to backend\r\n    try {\r\n      await saveTask({ objectId: id, Valor: newValor });\r\n    } catch (err) {\r\n      console.error(\"Error updating value:\", err.message);\r\n    }\r\n  };\r\n\r\n  // Increase working hours (max 8)\r\n  const incrementValor = (id) => {\r\n    const task = tasks.find((t) => t.id === id);\r\n    if (!task) return;\r\n    const newValor = Math.min(task.valor + 1, 8);\r\n    updateValor(id, newValor);\r\n  };\r\n\r\n  // Decrease working hours (min 1)\r\n  const decrementValor = (id) => {\r\n    const task = tasks.find((t) => t.id === id);\r\n    if (!task) return;\r\n    const newValor = Math.max(task.valor - 1, 1);\r\n    updateValor(id, newValor);\r\n  };\r\n\r\n  // ---------------------------\r\n  // Drag & Drop configuration\r\n  // ---------------------------\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor),\r\n    useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\r\n  );\r\n\r\n  const getTaskPos = (id) => tasks.findIndex((task) => task.id === id);\r\n\r\n  const handleDragStart = (event) => {\r\n    setActiveId(event.active.id);\r\n  };\r\n\r\n  const handleDragEnd = async (event) => {\r\n    setActiveId(null);\r\n    const { active, over } = event;\r\n    if (!over || active.id === over.id) return;\r\n\r\n    // Reorder tasks in state\r\n    const originalPos = getTaskPos(active.id);\r\n    const newPos = getTaskPos(over.id);\r\n\r\n    const reorderedTasks = [...tasks];\r\n    const [moved] = reorderedTasks.splice(originalPos, 1);\r\n    reorderedTasks.splice(newPos, 0, moved);\r\n\r\n    setTasks(reorderedTasks);\r\n\r\n    // Save new order to backend\r\n    try {\r\n      await Promise.all(\r\n        reorderedTasks.map((task, index) =>\r\n          saveTask({ objectId: task.id, Orden: index })\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error updating order:\", err.message);\r\n      alert(\"There was a problem saving the new order.\");\r\n    }\r\n  };\r\n\r\n  // ---------------------------\r\n  // Render component\r\n  // ---------------------------\r\n  return (\r\n    <div>\r\n      <h4>Assign Employees for Tomorrow’s Shift</h4>\r\n\r\n      {/* Show spinner while loading */}\r\n      {loading && <Spinner text=\"Loading...\" />}\r\n\r\n      {/* Show error if something went wrong */}\r\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n\r\n      {/* Input to add new employees */}\r\n      <div style={{ marginBottom: \"15px\" }}>\r\n        <Input\r\n          onSubmit={addTask}\r\n          buttonLabel=\"Add Employee\"   // Configurable button text\r\n        />\r\n      </div>\r\n\r\n      {/* Layout: left timeline + right tasks */}\r\n      <div style={{ display: \"flex\", gap: \"0px\" }}>\r\n        {/* Left timeline with 24h slots */}\r\n        <Timeline baseHeight={baseHeight} />\r\n\r\n        {/* Right: draggable list of employees */}\r\n        <div style={{ flex: 1 }}>\r\n          <DndContext\r\n            sensors={sensors}\r\n            collisionDetection={closestCorners}\r\n            onDragStart={handleDragStart}\r\n            onDragEnd={handleDragEnd}\r\n          >\r\n            <SortableContext\r\n              items={tasks.map((t) => t.id)}\r\n              strategy={verticalListSortingStrategy}\r\n            >\r\n              {tasks.map((task) => (\r\n                <SortableItem\r\n                  key={task.id}\r\n                  id={task.id}\r\n                  title={task.title}\r\n                  valor={task.valor}\r\n                  onDelete={deleteTaskById}\r\n                  incrementValor={incrementValor}\r\n                  decrementValor={decrementValor}\r\n                  baseHeight={baseHeight}\r\n                />\r\n              ))}\r\n            </SortableContext>\r\n\r\n            {/* Overlay element shown while dragging */}\r\n            <DragOverlay>\r\n              {activeId ? (\r\n                <SortableItem\r\n                  id={activeId}\r\n                  title={tasks.find((t) => t.id === activeId)?.title}\r\n                  valor={tasks.find((t) => t.id === activeId)?.valor}\r\n                  incrementValor={incrementValor}\r\n                  decrementValor={decrementValor}\r\n                  baseHeight={baseHeight}\r\n                  overlay\r\n                />\r\n              ) : null}\r\n            </DragOverlay>\r\n          </DndContext>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}